# action.yml
name: 'Semantic Version Information'
description: 'Version and branch information useful for semantic versioning'
branding:
    icon: 'git-branch'
    color: 'black'
inputs:
  auto_release_branch:
    description: "Auto-commit VERSION file and create tag on push events to this branch."
    default: ""
    required: false
  github_pr_head_sha:
    default: ${{ github.pull_request.head.sha }}
    required: false
  github_pr_number:
    default: ${{ github.pull_request.number }}
    required: false
outputs:
  branch:
    description: 'Current branch name. Base branch if in a PR.'
  branch_alpha:
    description: 'Branch name with only alphanumbers. Valid to use with image paths for example.'
  version:
    description: 'Next semantic version. Based on /VERSION and branch name.'
runs:
  using: 'docker'
  image: 'Dockerfile'
  env:
    GITHUB_PR_HEAD_SHA: ${{ inputs.github_pr_head_sha }}
    GITHUB_PR_NUMBER: ${{ inputs.github_pr_number }}
